<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ú–∞–≥–∞–∑–∏–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        background: var(--tg-theme-bg-color, #f8f9fa);
        color: var(--tg-theme-text-color, #000);
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
    }

    /* ===== –ê–ù–ò–ú–ê–¶–ò–ò ===== */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideUp {
        from { transform: translateY(100%) scale(0.95); }
        to { transform: translateY(0) scale(1); }
    }

    @keyframes pulse {
        0% { transform: scale(1); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        50% { transform: scale(1.1); box-shadow: 0 6px 20px rgba(0,0,0,0.25); }
        100% { transform: scale(1); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    }

    @keyframes skeletonLoading {
        0% { background-position: -200px 0; }
        100% { background-position: calc(200px + 100%) 0; }
    }

    /* ===== –•–ï–î–ï–† –° –ù–ï–û–ù-–≠–§–§–ï–ö–¢–û–ú ===== */
    .header {
        position: sticky;
        top: 0;
        background: var(--tg-theme-bg-color, #fff);
        border-bottom: 1px solid var(--tg-theme-hint-color, #e0e0e0);
        z-index: 100;
        padding: 10px 15px;
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 15px rgba(0,0,0,0.05);
    }

    /* –ü–æ–∏—Å–∫ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
    .search-box {
        position: relative;
        margin-bottom: 10px;
    }

    .search-input {
        width: 100%;
        padding: 14px 40px 14px 45px;
        border: 1px solid transparent;
        border-radius: 16px;
        font-size: 16px;
        background: var(--tg-theme-secondary-bg-color, #f0f2f5);
        color: var(--tg-theme-text-color, #000);
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .search-input:focus {
        outline: none;
        border-color: var(--tg-theme-button-color, #3390ec);
        background: var(--tg-theme-bg-color, #fff);
        box-shadow: 0 4px 15px rgba(52, 144, 236, 0.2);
    }

    .search-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 20px;
        color: var(--tg-theme-hint-color, #999);
        transition: all 0.3s ease;
    }

    .search-input:focus + .search-icon {
        color: var(--tg-theme-button-color, #3390ec);
    }

    /* –§–∏–ª—å—Ç—Ä—ã —Å glassmorphism */
    .filters {
        display: flex;
        gap: 10px;
        overflow-x: auto;
        padding: 8px 0;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
    }

    .filter-btn {
        padding: 10px 20px;
        border: 1px solid transparent;
        border-radius: 24px;
        background: var(--tg-theme-secondary-bg-color, #f0f2f5);
        color: var(--tg-theme-hint-color, #666);
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
    }

    .filter-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--tg-theme-button-color, #3390ec);
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: -1;
    }

    .filter-btn.active,
    .filter-btn:active {
        color: var(--tg-theme-button-text-color, #fff);
        border-color: var(--tg-theme-button-color, #3390ec);
        transform: scale(1.05);
    }

    .filter-btn.active::before,
    .filter-btn:active::before {
        opacity: 1;
    }

    /* ===== –¢–û–í–ê–†–´ –° –ê–ù–ò–ú–ê–¶–ò–ï–ô ===== */
    .products-container {
        padding: 15px;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }

    .product-card {
        background: var(--tg-theme-secondary-bg-color, #fff);
        border-radius: 16px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        animation: fadeIn 0.5s ease forwards;
        opacity: 0;
        box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(128, 128, 128, 0.1);
    }

    .product-card:nth-child(1) { animation-delay: 0.05s; }
    .product-card:nth-child(2) { animation-delay: 0.1s; }
    .product-card:nth-child(3) { animation-delay: 0.15s; }
    .product-card:nth-child(4) { animation-delay: 0.2s; }

    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .product-card:active {
        transform: scale(0.96);
        transition: transform 0.1s ease;
    }

    .product-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        background: linear-gradient(135deg, #e0e0e0 0%, #f0f0f0 100%);
        position: relative;
        overflow: hidden;
    }

    .product-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .product-card:hover .product-image img {
        transform: scale(1.05);
    }

    .product-info {
        padding: 15px;
    }

    .product-name {
        font-size: 15px;
        font-weight: 600;
        margin-bottom: 8px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        color: var(--tg-theme-text-color, #000);
    }

    .product-price {
        font-size: 18px;
        font-weight: 700;
        color: var(--tg-theme-button-color, #3390ec);
        margin-bottom: 12px;
    }

    .add-to-cart-btn {
        width: 100%;
        padding: 10px;
        background: var(--tg-theme-button-color, #3390ec);
        color: var(--tg-theme-button-text-color, #fff);
        border: none;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .add-to-cart-btn::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255,255,255,0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .add-to-cart-btn:active::after {
        width: 300px;
        height: 300px;
    }

    /* ===== –ö–ù–û–ü–ö–ê –ö–û–†–ó–ò–ù–´ –° –ê–ù–ò–ú–ê–¶–ò–ï–ô ===== */
    .cart-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 64px;
        height: 64px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--tg-theme-button-color, #3390ec) 0%, #2a75d1 100%);
        color: var(--tg-theme-button-text-color, #fff);
        border: none;
        font-size: 24px;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(52, 144, 236, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
    }

    .cart-button:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 25px rgba(52, 144, 236, 0.6);
    }

    .cart-button.adding {
        animation: pulse 0.5s ease;
    }

    .cart-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background: linear-gradient(135deg, #ff3b30 0%, #d63426 100%);
        color: white;
        border-radius: 50%;
        min-width: 24px;
        height: 24px;
        padding: 0 6px;
        font-size: 12px;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(255, 59, 48, 0.4);
        transition: all 0.3s ease;
        animation: pulse 0.3s ease;
    }

    /* ===== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê –° GLASSMORPHISM ===== */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        backdrop-filter: blur(5px);
        z-index: 2000;
        animation: fadeIn 0.2s ease;
    }

    .modal.active {
        display: flex;
        align-items: flex-end;
    }

    .modal-content {
        background: var(--tg-theme-bg-color, rgba(255,255,255,0.95));
        width: 100%;
        max-height: 85vh;
        border-radius: 24px 24px 0 0;
        overflow-y: auto;
        animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(128, 128, 128, 0.1);
        box-shadow: 0 -10px 30px rgba(0,0,0,0.15);
    }

    .modal-image {
        width: 100%;
        height: 320px;
        object-fit: cover;
        background: linear-gradient(135deg, #e0e0e0 0%, #f0f0f0 100%);
    }

    .modal-body {
        padding: 25px;
    }

    .modal-name {
        font-size: 22px;
        font-weight: 700;
        margin-bottom: 12px;
        color: var(--tg-theme-text-color, #000);
    }

    .modal-price {
        font-size: 26px;
        font-weight: 700;
        color: var(--tg-theme-button-color, #3390ec);
        margin-bottom: 20px;
    }

    .modal-description {
        font-size: 16px;
        line-height: 1.6;
        margin-bottom: 25px;
        color: var(--tg-theme-hint-color, #666);
    }

    /* ===== –°–ï–õ–ï–ö–¢–û–† –ö–û–õ–ò–ß–ï–°–¢–í–ê ===== */
    .quantity-selector {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        margin-bottom: 25px;
    }

    .quantity-btn {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        border: 2px solid var(--tg-theme-button-color, #3390ec);
        background: transparent;
        color: var(--tg-theme-button-color, #3390ec);
        font-size: 22px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .quantity-btn:hover {
        background: var(--tg-theme-button-color, #3390ec);
        color: var(--tg-theme-button-text-color, #fff);
        transform: scale(1.1);
    }

    .quantity-btn:active {
        transform: scale(0.9);
    }

    .quantity-value {
        font-size: 22px;
        font-weight: 700;
        min-width: 50px;
        text-align: center;
    }

    /* ===== –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –ö–ù–û–ü–ö–ò ===== */
    .modal-add-btn {
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, var(--tg-theme-button-color, #3390ec) 0%, #2a75d1 100%);
        color: var(--tg-theme-button-text-color, #fff);
        border: none;
        border-radius: 14px;
        font-size: 17px;
        font-weight: 700;
        cursor: pointer;
        margin-bottom: 12px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(52, 144, 236, 0.3);
    }

    .modal-add-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(52, 144, 236, 0.4);
    }

    .modal-add-btn:active {
        transform: scale(0.96);
    }

    .modal-close-btn {
        width: 100%;
        padding: 16px;
        background: transparent;
        color: var(--tg-theme-hint-color, #999);
        border: none;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 14px;
    }

    .modal-close-btn:hover {
        background: var(--tg-theme-secondary-bg-color, #f0f2f5);
        color: var(--tg-theme-text-color, #000);
    }

    /* ===== –ö–û–†–ó–ò–ù–ê –° –û–ë–ù–û–í–õ–ï–ù–ù–´–ú–ò –°–¢–ò–õ–Ø–ú–ò ===== */
    .cart-modal .modal-content {
        max-height: 92vh;
    }

    .cart-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        background: var(--tg-theme-secondary-bg-color, #f0f2f5);
        border-radius: 16px;
        margin-bottom: 12px;
        transition: all 0.3s ease;
        animation: fadeIn 0.4s ease forwards;
        opacity: 0;
    }

    .cart-item:hover {
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .cart-item-image {
        width: 90px;
        height: 90px;
        border-radius: 12px;
        object-fit: cover;
        background: linear-gradient(135deg, #e0e0e0 0%, #f0f0f0 100%);
        overflow: hidden;
    }

    .cart-item-info {
        flex: 1;
    }

    .cart-item-name {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 6px;
    }

    .cart-item-price {
        font-size: 15px;
        color: var(--tg-theme-hint-color, #666);
        margin-bottom: 10px;
    }

    .cart-item-controls {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .cart-item-btn {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: 1px solid var(--tg-theme-button-color, #3390ec);
        background: transparent;
        color: var(--tg-theme-button-color, #3390ec);
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .cart-item-btn:hover {
        background: var(--tg-theme-button-color, #3390ec);
        color: var(--tg-theme-button-text-color, #fff);
        transform: scale(1.1);
    }

    .cart-item-quantity {
        font-size: 16px;
        font-weight: 600;
        min-width: 30px;
        text-align: center;
    }

    /* ===== –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê –û–ß–ò–°–¢–ö–ò –ö–û–†–ó–ò–ù–´ ===== */
    .clear-cart-btn {
        width: 100%;
        padding: 12px;
        background: linear-gradient(135deg, #ff3b30 0%, #d63426 100%);
        color: #fff;
        border: none;
        border-radius: 12px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        margin-bottom: 15px;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow: 0 2px 10px rgba(255, 59, 48, 0.3);
    }

    .clear-cart-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(255, 59, 48, 0.4);
    }

    .clear-cart-btn:active {
        transform: scale(0.96);
    }

    .clear-cart-btn::before {
        content: 'üóëÔ∏è';
        font-size: 16px;
    }

    /* ===== –ò–¢–û–ì–û –ò –û–§–û–†–ú–õ–ï–ù–ò–ï ===== */
    .cart-total {
        padding: 20px;
        border-top: 1px solid var(--tg-theme-hint-color, #e0e0e0);
        margin-top: 20px;
        background: var(--tg-theme-bg-color, #fff);
        border-radius: 16px 16px 0 0;
        position: sticky;
        bottom: 0;
    }

    .cart-total-row {
        display: flex;
        justify-content: space-between;
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 15px;
    }

    .checkout-btn {
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, var(--tg-theme-button-color, #3390ec) 0%, #2a75d1 100%);
        color: var(--tg-theme-button-text-color, #fff);
        border: none;
        border-radius: 14px;
        font-size: 17px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(52, 144, 236, 0.3);
    }

    .checkout-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(52, 144, 236, 0.4);
    }

    .checkout-btn:active {
        transform: scale(0.96);
    }

    /* ===== –ü–†–û–ß–ï–ï ===== */
    .empty-message {
        text-align: center;
        padding: 60px 20px;
        color: var(--tg-theme-hint-color, #999);
        font-size: 16px;
    }

    .loader {
        text-align: center;
        padding: 40px;
        color: var(--tg-theme-hint-color, #999);
    }

    .error-message {
        text-align: center;
        padding: 40px 20px;
        color: #ff3b30;
    }

    .demo-warning {
        background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        border: 1px solid #ffeaa7;
        border-radius: 12px;
        padding: 12px;
        margin: 15px 0;
        text-align: center;
        color: #856404;
        font-size: 14px;
        font-weight: 500;
        animation: fadeIn 0.5s ease;
    }

    /* Skeleton loading */
    .skeleton {
        background: linear-gradient(90deg, rgba(128, 128, 128, 0.1) 25%, rgba(128, 128, 128, 0.2) 50%, rgba(128, 128, 128, 0.1) 75%);
        background-size: 200px 100%;
        animation: skeletonLoading 1.5s infinite;
        border-radius: 16px;
    }
</style>

</head>
<body>
    <!-- –•–µ–¥–µ—Ä -->
    <div class="header">
        <!-- –ü–æ–∏—Å–∫ -->
        <div class="search-box">
            <span class="search-icon">üîç</span>
            <input type="text" class="search-input" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filters" id="filters">
            <button class="filter-btn active" data-category="all">–í—Å–µ</button>
        </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
    <div class="products-container">
        <div class="products-grid" id="productsGrid">
            <div class="loader">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</div>
        </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <button class="cart-button" id="cartButton" style="display: none;">
        üõí
        <span class="cart-badge" id="cartBadge">0</span>
    </button>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–≤–∞—Ä–∞ -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-image" id="modalImage"></div>
            <div class="modal-body">
                <div class="modal-name" id="modalName"></div>
                <div class="modal-price" id="modalPrice"></div>
                <div class="modal-description" id="modalDescription"></div>
                
                <div class="quantity-selector">
                    <button class="quantity-btn" id="decreaseQty">‚àí</button>
                    <span class="quantity-value" id="quantityValue">1</span>
                    <button class="quantity-btn" id="increaseQty">+</button>
                </div>

                <button class="modal-add-btn" id="addToCartBtn">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                <button class="modal-close-btn" id="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="modal cart-modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-body">
                <h2 style="margin-bottom: 20px;">–ö–æ—Ä–∑–∏–Ω–∞</h2>
                <div id="cartItems"></div>
                <div class="cart-total" id="cartTotal" style="display: none;">
                    <div class="cart-total-row">
                        <span>–ò—Ç–æ–≥–æ:</span>
                        <span id="totalPrice">0‚ÇΩ</span>
                    </div>
                    <button class="checkout-btn" id="checkoutBtn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
                <button class="modal-close-btn" id="closeCartModal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
    const tg = window.Telegram.WebApp;
    tg.expand();
    tg.enableClosingConfirmation();

    // –î–∞–Ω–Ω—ã–µ
    let products = [];
    let categories = [];
    let cart = [];
    let currentProduct = null;
    let currentQuantity = 1;
    let isUsingDemoData = false;

    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
    const API_CONFIG = {
        LOCAL_SERVER: 'http://localhost:8080',
        GITHUB_PAGES: 'https://danil228cmd.github.io/shopsanya11/',
        TIMEOUT: 1000
    };

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    async function loadData() {
        showSkeletonLoader();
        
        try {
            console.log('üîÑ –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö...');
            
            // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
            const localData = await tryLoadFromSource(API_CONFIG.LOCAL_SERVER, '–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä');
            if (localData) {
                products = localData.products;
                categories = localData.categories;
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞');
                renderCategories();
                renderProducts();
                return;
            }
            
            // –ï—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–±—É–µ–º GitHub Pages
            console.log('üîÑ –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ–±—É–µ–º GitHub Pages...');
            const githubData = await tryLoadFromGitHub();
            if (githubData) {
                products = localData.products;
                categories = localData.categories;
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å GitHub Pages');
                renderCategories();
                renderProducts();
                return;
            }
            
            // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
            console.log('üîÑ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ');
            useDemoData();
            
        } catch (error) {
            console.error('‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', error);
            useDemoData();
        }
    }

    // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞
    async function tryLoadFromSource(baseUrl, sourceName) {
        try {
            console.log(`üîÑ –ü—Ä–æ–±—É–µ–º ${sourceName}...`);
            
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.TIMEOUT);
            
            const [productsRes, categoriesRes] = await Promise.all([
                fetch(`${baseUrl}/api/products`, { signal: controller.signal }),
                fetch(`${baseUrl}/api/categories`, { signal: controller.signal })
            ]);
            
            clearTimeout(timeoutId);
            
            if (productsRes.ok && categoriesRes.ok) {
                const products = await productsRes.json();
                const categories = await categoriesRes.json();
                return { products, categories };
            } else {
                throw new Error(`HTTP error: ${productsRes.status}`);
            }
        } catch (error) {
            console.log(`‚ùå ${sourceName} –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:`, error.message);
            return null;
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å GitHub Pages
    async function tryLoadFromGitHub() {
        try {
            const [productsRes, categoriesRes] = await Promise.all([
                fetch(`${API_CONFIG.GITHUB_PAGES}/api/products.json`),
                fetch(`${API_CONFIG.GITHUB_PAGES}/api/categories.json`)
            ]);
            
            if (productsRes.ok && categoriesRes.ok) {
                const products = await productsRes.json();
                const categories = await categoriesRes.json();
                return { products, categories };
            } else {
                throw new Error('GitHub Pages –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
            }
        } catch (error) {
            console.log('‚ùå GitHub Pages –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:', error.message);
            return null;
        }
    }

    // Skeleton loader
    function showSkeletonLoader() {
        const grid = document.getElementById('productsGrid');
        grid.innerHTML = Array(4).fill(0).map((_, i) => `
            <div class="product-card skeleton" style="animation-delay: ${i * 0.1}s">
                <div class="product-image" style="height: 200px;"></div>
                <div class="product-info">
                    <div class="product-name" style="height: 40px; margin-bottom: 10px;"></div>
                    <div class="product-price" style="height: 24px; width: 60%; margin-bottom: 12px;"></div>
                    <div class="add-to-cart-btn" style="height: 36px;"></div>
                </div>
            </div>
        `).join('');
    }

    // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
    function useDemoData() {
        isUsingDemoData = true;
        
        products = [
            {
                id: 1,
                name: "iPhone 15 Pro",
                price: 99990,
                category_id: 1,
                description: "–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω Apple —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –æ—Å—Ç—Ä–æ–≤–æ–º",
                photo_url: null
            },
            {
                id: 2,
                name: "Samsung Galaxy S24",
                price: 79990,
                category_id: 1,
                description: "–ú–æ—â–Ω—ã–π Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å –∫–∞–º–µ—Ä–æ–π 200MP",
                photo_url: null
            },
            {
                id: 3,
                name: "AirPods Pro",
                price: 24990,
                category_id: 2,
                description: "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ —Å —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º",
                photo_url: null
            },
            {
                id: 4,
                name: "MacBook Air M3",
                price: 129990,
                category_id: 3,
                description: "–õ–µ–≥–∫–∏–π –∏ –º–æ—â–Ω—ã–π –Ω–æ—É—Ç–±—É–∫ –æ—Ç Apple",
                photo_url: null
            }
        ];
        
        categories = [
            { id: 1, name: "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã", parent_id: null },
            { id: 2, name: "–ù–∞—É—à–Ω–∏–∫–∏", parent_id: null },
            { id: 3, name: "–ù–æ—É—Ç–±—É–∫–∏", parent_id: null }
        ];
        
        console.log('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ');
        renderCategories();
        renderProducts();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö
        showDemoWarning();
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö
    function showDemoWarning() {
        if (document.querySelector('.demo-warning')) return;
        
        const warning = document.createElement('div');
        warning.className = 'demo-warning';
        warning.innerHTML = '‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ. –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω.';
        document.querySelector('.products-container').insertBefore(warning, document.getElementById('productsGrid'));
    }

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    function renderCategories() {
        const filtersContainer = document.getElementById('filters');
        filtersContainer.innerHTML = '';

        // –ö–Ω–æ–ø–∫–∞ "–í—Å–µ"
        const allBtn = document.createElement('button');
        allBtn.className = 'filter-btn active';
        allBtn.textContent = '–í—Å–µ';
        allBtn.dataset.category = 'all';
        allBtn.onclick = () => filterByCategory('all');
        filtersContainer.appendChild(allBtn);

        // –ö–æ—Ä–Ω–µ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        const rootCategories = categories.filter(cat => !cat.parent_id);
        
        rootCategories.forEach(category => {
            const btn = document.createElement('button');
            btn.className = 'filter-btn';
            btn.textContent = category.name;
            btn.dataset.category = category.id;
            btn.onclick = () => filterByCategory(category.id);
            filtersContainer.appendChild(btn);
        });
    }

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
    function renderProducts(categoryId = null, searchQuery = '') {
        const grid = document.getElementById('productsGrid');
        
        let filtered = products;

        // –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        if (categoryId && categoryId !== 'all') {
            const subcategories = categories.filter(cat => cat.parent_id == categoryId).map(cat => cat.id);
            const categoryIds = [parseInt(categoryId), ...subcategories];
            filtered = filtered.filter(p => categoryIds.includes(p.category_id));
        }

        // –ü–æ–∏—Å–∫
        if (searchQuery) {
            filtered = filtered.filter(p => 
                p.name.toLowerCase().includes(searchQuery.toLowerCase())
            );
        }

        if (filtered.length === 0) {
            grid.innerHTML = '<div class="empty-message">–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
            return;
        }

        grid.innerHTML = filtered.map(product => `
            <div class="product-card" onclick="openProductModal(${product.id})">
                <div class="product-image">
                    ${product.photo_url ? 
                        `<img src="${product.photo_url}" alt="${product.name}" onerror="this.style.display='none'; this.parentNode.innerHTML='<div style=\\'width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 40px;\\'>üì¶</div>';">` : 
                        '<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 40px;">üì¶</div>'
                    }
                </div>
                <div class="product-info">
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">${product.price.toLocaleString()}‚ÇΩ</div>
                    <button class="add-to-cart-btn" onclick="event.stopPropagation(); quickAddToCart(${product.id})">
                        –í –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                </div>
            </div>
        `).join('');
    }

    // –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    function filterByCategory(categoryId) {
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        
        const activeBtn = document.querySelector(`.filter-btn[data-category="${categoryId}"]`);
        if (activeBtn) {
            activeBtn.classList.add('active');
        }

        const searchQuery = document.getElementById('searchInput').value;
        renderProducts(categoryId === 'all' ? null : categoryId, searchQuery);
    }

    // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–≤–∞—Ä–∞
    function openProductModal(productId) {
        currentProduct = products.find(p => p.id === productId);
        if (!currentProduct) return;

        currentQuantity = 1;
        document.getElementById('quantityValue').textContent = currentQuantity;

        const modal = document.getElementById('productModal');
        const modalImage = document.getElementById('modalImage');
        
        if (currentProduct.photo_url) {
            modalImage.innerHTML = `<img src="${currentProduct.photo_url}" alt="${currentProduct.name}" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'; this.parentNode.innerHTML='<div style=\\'width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 80px;\\'>üì¶</div>';">`;
        } else {
            modalImage.innerHTML = '<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 80px;">üì¶</div>';
        }

        document.getElementById('modalName').textContent = currentProduct.name;
        document.getElementById('modalPrice').textContent = currentProduct.price.toLocaleString() + '‚ÇΩ';
        document.getElementById('modalDescription').textContent = currentProduct.description;

        modal.classList.add('active');
    }

    // –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
    function quickAddToCart(productId) {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        addToCart(product, 1);
        
        // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
        const button = event.target;
        button.style.background = '#34c759';
        button.textContent = '‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ';
        
        setTimeout(() => {
            button.style.background = '';
            button.textContent = '–í –∫–æ—Ä–∑–∏–Ω—É';
        }, 1500);

        // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã
        const cartButton = document.getElementById('cartButton');
        cartButton.classList.add('adding');
        setTimeout(() => cartButton.classList.remove('adding'), 500);

        // Haptic feedback
        if (tg.HapticFeedback) {
            tg.HapticFeedback.notificationOccurred('success');
        }
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
    document.getElementById('decreaseQty').onclick = () => {
        if (currentQuantity > 1) {
            currentQuantity--;
            document.getElementById('quantityValue').textContent = currentQuantity;
        }
    };

    document.getElementById('increaseQty').onclick = () => {
        currentQuantity++;
        document.getElementById('quantityValue').textContent = currentQuantity;
    };

    // –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É –∏–∑ –º–æ–¥–∞–ª–∫–∏
    document.getElementById('addToCartBtn').onclick = () => {
        if (currentProduct) {
            addToCart(currentProduct, currentQuantity);
            document.getElementById('productModal').classList.remove('active');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã
            const cartButton = document.getElementById('cartButton');
            cartButton.classList.add('adding');
            setTimeout(() => cartButton.classList.remove('adding'), 500);

            if (tg.HapticFeedback) {
                tg.HapticFeedback.notificationOccurred('success');
            }
        }
    };

    // –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
    function addToCart(product, quantity) {
        const existingItem = cart.find(item => item.id === product.id);
        
        if (existingItem) {
            existingItem.quantity += quantity;
        } else {
            cart.push({
                id: product.id,
                name: product.name,
                price: product.price,
                photo_url: product.photo_url,
                quantity: quantity
            });
        }

        updateCartUI();
    }

    // –û–±–Ω–æ–≤–∏—Ç—å UI –∫–æ—Ä–∑–∏–Ω—ã
    function updateCartUI() {
        const cartButton = document.getElementById('cartButton');
        const cartBadge = document.getElementById('cartBadge');
        
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        
        if (totalItems > 0) {
            cartButton.style.display = 'flex';
            cartBadge.textContent = totalItems;
            cartBadge.style.animation = 'none';
            setTimeout(() => cartBadge.style.animation = 'pulse 0.3s ease', 10);
        } else {
            cartButton.style.display = 'none';
        }
    }

    // –û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    document.getElementById('cartButton').onclick = () => {
        renderCart();
        document.getElementById('cartModal').classList.add('active');
    };

    // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    function renderCart() {
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        
        if (cart.length === 0) {
            cartItems.innerHTML = '<div class="empty-message">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>';
            cartTotal.style.display = 'none';
            return;
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ –≤ –Ω–∞—á–∞–ª–æ
        cartItems.innerHTML = '';
        
        const clearBtn = document.createElement('button');
        clearBtn.className = 'clear-cart-btn';
        clearBtn.textContent = '–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É';
        clearBtn.onclick = () => clearCart();
        cartItems.appendChild(clearBtn);

        // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã
        const itemsContainer = document.createElement('div');
        cart.forEach((item, index) => {
            const itemElement = document.createElement('div');
            itemElement.className = 'cart-item';
            itemElement.style.animationDelay = `${index * 0.05}s`;
            itemElement.innerHTML = `
                <div class="cart-item-image">
                    ${item.photo_url ? 
                        `<img src="${item.photo_url}" alt="${item.name}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 12px;" onerror="this.style.display='none'; this.parentNode.innerHTML='<div style=\\'width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 30px;\\'>üì¶</div>';">` : 
                        '<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 30px;">üì¶</div>'
                    }
                </div>
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">${item.price.toLocaleString()}‚ÇΩ √ó ${item.quantity} = ${(item.price * item.quantity).toLocaleString()}‚ÇΩ</div>
                    <div class="cart-item-controls">
                        <button class="cart-item-btn" onclick="updateCartQuantity(${item.id}, -1)">‚àí</button>
                        <span class="cart-item-quantity">${item.quantity}</span>
                        <button class="cart-item-btn" onclick="updateCartQuantity(${item.id}, 1)">+</button>
                        <button class="cart-item-btn" onclick="removeFromCart(${item.id})" style="margin-left: auto; color: #ff3b30; border-color: #ff3b30;">üóë</button>
                    </div>
                </div>
            `;
            itemsContainer.appendChild(itemElement);
        });
        
        cartItems.appendChild(itemsContainer);

        const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        document.getElementById('totalPrice').textContent = totalPrice.toLocaleString() + '‚ÇΩ';
        cartTotal.style.display = 'block';
    }

    // –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    function clearCart() {
        if (cart.length === 0) return;
        
        if (tg.showPopup) {
            tg.showPopup({
                title: '–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?',
                message: `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å ${cart.length} —Ç–æ–≤–∞—Ä–æ–≤?`,
                buttons: [
                    { id: 'cancel', type: 'cancel', text: '–û—Ç–º–µ–Ω–∞' },
                    { id: 'clear', type: 'destructive', text: '–û—á–∏—Å—Ç–∏—Ç—å' }
                ]
            }, (buttonId) => {
                if (buttonId === 'clear') {
                    cart = [];
                    renderCart();
                    updateCartUI();
                    
                    if (tg.HapticFeedback) {
                        tg.HapticFeedback.notificationOccurred('success');
                    }
                }
            });
        } else {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?')) {
                cart = [];
                renderCart();
                updateCartUI();
            }
        }
    }

    // –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∫–æ—Ä–∑–∏–Ω–µ
    function updateCartQuantity(productId, delta) {
        const item = cart.find(i => i.id === productId);
        if (!item) return;

        item.quantity += delta;

        if (item.quantity <= 0) {
            removeFromCart(productId);
        } else {
            renderCart();
            updateCartUI();
        }
    }

    // –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    function removeFromCart(productId) {
        cart = cart.filter(i => i.id !== productId);
        renderCart();
        updateCartUI();
    }

    // –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
    document.getElementById('checkoutBtn').onclick = () => {
        if (cart.length === 0) return;

        const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

        const orderData = {
            type: 'order',
            items: cart.map(item => ({
                id: item.id,
                name: item.name,
                price: item.price,
                quantity: item.quantity
            })),
            total_price: totalPrice
        };

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞
        tg.sendData(JSON.stringify(orderData));
        
        // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –ø–æ—Å–ª–µ –∑–∞–∫–∞–∑–∞
        cart = [];
        updateCartUI();
        document.getElementById('cartModal').classList.remove('active');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        if (tg.showPopup) {
            tg.showPopup({
                title: '–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!',
                message: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.',
                buttons: [{ type: 'ok' }]
            });
        } else {
            alert('‚úÖ –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏.');
        }
    };

    // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫–∏
    document.getElementById('closeModal').onclick = () => {
        document.getElementById('productModal').classList.remove('active');
    };

    document.getElementById('closeCartModal').onclick = () => {
        document.getElementById('cartModal').classList.remove('active');
    };

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª–∫–∏
    document.querySelectorAll('.modal').forEach(modal => {
        modal.onclick = (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        };
    });

    // –ü–æ–∏—Å–∫ —Å debounce
    let searchTimeout;
    document.getElementById('searchInput').oninput = (e) => {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            const query = e.target.value;
            let activeCategory = null;
            const activeBtn = document.querySelector('.filter-btn.active');
            if (activeBtn && activeBtn.dataset.category !== 'all') {
                activeCategory = activeBtn.dataset.category;
            }
            renderProducts(activeCategory, query);
        }, 300);
    };

    // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    loadData();
</script>
</body>
</html>
